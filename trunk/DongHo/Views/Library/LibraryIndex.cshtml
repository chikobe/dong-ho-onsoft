@model IList<DongHo.Models.Library>
@{
    ViewBag.Title = "Quản lý thư viện";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<h2>@ViewBag.Title</h2>
@using (Html.BeginForm("MultiDelete", "Library", FormMethod.Post))
{
    <div class="Control">
        <ul>
            <li>@Html.ActionLink("Thêm mới", "LibraryCreate", "", new { @class = "vadd" })</li>
            @if (Request.Cookies["Username"] == null)
            {
                <li><p class="mulDel" onclick="AlertErr()">Xóa</p></li>
            }
            else
            {
                <li><input type="submit" value=" Xóa " class="mulDel" /></li>
            }
            <li>@Html.ActionLink("Làm mới", "LibraryIndex", "", new { @class = "vrefresh" })</li>
        </ul>
    </div>
    <table class="TableView" border="1" id="myTable">
        <tr class="trHeader">
            <th class="CheckBoxsmall"><input type="checkbox" onclick="Javascript: chkSelectAll_OnClick(this)" id="chkSelectAll" /></th>
            <th class="Text">Tên thư viện</th>
            <th class="Image">Hình ảnh</th>
            <th class="Number">Ưu tiên</th>
            <th class="Function">Chức năng</th>
        </tr>
        @for (int i = 0; i < Model.Count; i++)
        {
            if (i % 2 == 0)
            {
                <tr id="trOdd_@i" class="trOdd" onmousemove="Javascript:chkSelect_OnMouseMove(this)" onmouseout="Javascript:chkSelect_OnMouseOut(this,@i)">
                    <td class="CheckBoxsmall">@Html.CheckBox("chk" + Model[i].Id, new { id = "chkSelect", onclick = "Javascript:chkSelect_OnClick(this,0)", @class="chk" })</td>
                    <td class="Text">@Model[i].Name</td>
                    <td class="Image"><img src="@Model[i].Image" style="width:90px; height:90px; margin-top:5px" /></td>
                    <td class="Number">
                        @if (Model[i].Priority == 1)
                        {
                         <div class="checkImg">ưu tiên</div>   
                        }
                        else
                        {
                            <div class="uncheckImg">k ưu tiên</div>
                        }
                    </td>
                    <td class="Function">
                        @Html.ActionLink("Sửa", "LibraryEdit", new { id = Model[i].Id }, new { @class = "vedit" }) 
                        @if (Request.Cookies["Username"] == null)
                        {
                            <p class="vdelete" onclick="AlertErr()">Xóa</p>
                        }
                        else
                        {
                            @Html.ActionLink("Xóa", "LibraryDelete", new { id = Model[i].Id }, new { @onclick = "DeleteConfirm()", @class = "vdelete" })
                        }
                        @if (Model[i].Active == 1)
                        {@Html.ActionLink("Active", "LibraryActive", new { id = Model[i].Id }, new { @class = "vactive" })}
                        else
                        {@Html.ActionLink("Active", "LibraryActive", new { id = Model[i].Id }, new { @class = "vnotactive" })}
                    </td>
                </tr>
            }
            else
            {
                <tr id="trEven_@i" class="trEven" onmousemove="Javascript:chkSelect_OnMouseMove(this)" onmouseout="Javascript:chkSelect_OnMouseOut(this,@i)">
                    <td class="CheckBoxsmall">@Html.CheckBox("chk" + Model[i].Id, new { id = "chkSelect", onclick = "Javascript:chkSelect_OnClick(this,0)", @class="chk" })</td>
                    <td class="Text">@Model[i].Name</td>
                    <td class="Image"><img src="@Model[i].Image" style="width:90px; height:90px; margin-top:5px" /></td>
                    <td class="Number">
                        @if (Model[i].Priority == 1)
                        {
                         <div class="checkImg">ưu tiên</div>   
                        }
                        else
                        {
                            <div class="uncheckImg">k ưu tiên</div>
                        }
                    </td>
                    <td class="Function">
                        @Html.ActionLink("Sửa", "LibraryEdit", new { id = Model[i].Id }, new { @class = "vedit" }) 
                        @if (Request.Cookies["Username"] == null)
                        {
                            <p class="vdelete" onclick="AlertErr()">Xóa</p>
                        }
                        else
                        {
                            @Html.ActionLink("Xóa", "LibraryDelete", new { id = Model[i].Id }, new { @onclick = "DeleteConfirm()", @class = "vdelete" })
                        }
                        @if (Model[i].Active == 1)
                        {@Html.ActionLink("Active", "LibraryActive", new { id = Model[i].Id }, new { @class = "vactive" })}
                        else
                        {@Html.ActionLink("Active", "LibraryActive", new { id = Model[i].Id }, new { @class = "vnotactive" })}
                    </td>
                </tr>
            }
        }
    </table>
    <div class="Control">
        <ul>
            <li>@Html.ActionLink("Thêm mới", "LibraryCreate", "", new { @class = "vadd" })</li>
            @if (Request.Cookies["Username"] == null)
            {
                <li><p class="mulDel" onclick="AlertErr()">Xóa</p></li>
            }
            else
            {
                <li><input type="submit" value=" Xóa " class="mulDel" /></li>
            }
            <li>@Html.ActionLink("Làm mới", "LibraryIndex", "", new { @class = "vrefresh" })</li>
        </ul>
    </div>
}